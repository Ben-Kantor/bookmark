<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="darkreader-lock" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta property="og:title" content="$PLACEHOLDER-TITLE" />
        <meta property="og:type" content="website" />
        <meta name="theme-color" content="#692534" />
        <link rel="stylesheet" href="/!!/photoswipe.css" />
        $PLACEHOLDER-META
        <link rel="icon" type="image/x-icon" href="/!!/icon-x32.ico" />
        $PLACEHOLDER-HEAD

        <!-- PhotoSwipe Lightbox Module Initilization -->
        <script type="module">
            import PhotoSwipeLightbox from "/!!/photoswipe-lightbox.esm.min.js";
            const lightbox = new PhotoSwipeLightbox({
                hideAnimationDuration: 0,
                showAnimationDuration: 0,
                zoomAnimationDuration: 100,
                gallery: "main.content",
                children: "a[data-pswp-width]",
                pswpModule: () => import("/!!/photoswipe.esm.min.js"),
            });
            lightbox.init();
            globalThis.lightbox = lightbox;
        </script>

        <!-- Explorer/Toc State Initilization & Theme Initilization -->
        <script>
            let T = localStorage.getItem("theme");
            if (!T) {
                T = globalThis.matchMedia("(prefers-color-scheme: light)")
                    .matches
                    ? "light"
                    : "dark";
                localStorage.setItem("theme", T);
            }
            document.documentElement.setAttribute("data-theme", T);
            let H = localStorage.getItem("high-contrast");
            if (!H) {
                H = globalThis.matchMedia("(prefers-contrast: high)").matches
                    ? "true"
                    : "false";
                localStorage.setItem("high-contrast", H);
            }
            document.documentElement.setAttribute("data-high-contrast", H);
        </script>
    </head>
    <body
        style="background: var(--background-primary); color: var(--text-normal)"
    >
        <div id="page-wrapper">
            <!-- Left Column (File Explorer) -->
            <div id="explorer" role="navigation" aria-label="File Explorer">
                <div class="banner-container">
                    <div class="banner-html">
                        <img src="/!!/icon-x128.ico" class="logo-img" />
                        <span class="logo-text">bookmark</span>
                    </div>
                    <button
                        id="open-palette-button"
                        aria-label="Open command palette"
                    >
                        󱁵
                    </button>
                </div>
                <div id="explorer-hint">
                    Press
                    <span style="color: var(--accent-gold)">Esc</span>
                    to open search & commands
                </div>
                <div class="flex-1 custom-scrollbar">
                    <div>$PLACEHOLDER-EXPLORER</div>
                </div>
            </div>

            <div
                id="explorer-handle"
                role="separator"
                tabindex="0"
                aria-orientation="vertical"
                aria-controls="content-area explorer-panel"
                aria-label="Resize table of contents panel"
                class="handle"
            >
                <div></div>
            </div>

            <!-- Center Column (Content Area) -->
            <div
                id="content-area-wrapper"
                class="keyboard-active-column"
                style="max-width: 100% !important"
            >
                <div
                    id="content-area"
                    class="custom-scrollbar"
                    style="
                        background: var(--layer-0);
                        max-width: 100%;
                        overflow-x: auto;
                    "
                >
                    <main class="content" style="max-width: 100%">
                        $PLACEHOLDER-CONTENT
                    </main>
                </div>
            </div>

            <!-- Right Column (Table of Contents) -->
            <div
                id="toc-handle"
                role="separator"
                tabindex="0"
                aria-orientation="vertical"
                aria-controls="content-area toc-panel"
                aria-label="Resize table of contents panel"
                class="handle"
            >
                <div></div>
            </div>

            <div id="toc-panel" role="navigation" aria-label="On this page">
                <div class="flex-1 custom-scrollbar">
                    <div
                        class="flex items-center"
                        style="color: var(--text-bold)"
                    >
                        <span
                            style="
                                font-family:
                                    &quot;FiraCode Nerd Font&quot;, monospace;
                                font-size: 150%;
                            "
                        >
                            󰮫
                        </span>
                        <span class="text-sm font-semibold">On this page</span>
                    </div>
                    <div>
                        <ul id="toc-list" role="tree"></ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Mobile-Only Header -->
        <header id="mobile-header" role="banner">
            <button
                id="mobile-explorer-button"
                class="icon mobile-nav-button"
                aria-label="Toggle file explorer"
            >
                
            </button>
            <div class="mobile-logo-group">
                <img src="/!!/icon-x128.ico" class="mobile-logo-icon" />
                <span class="mobile-logo-text">bookmark</span>
            </div>
            <div class="mobile-actions-group">
                <button
                    id="mobile-palette-button"
                    class="icon mobile-nav-button"
                    aria-label="Open command palette"
                >
                    󱁵
                </button>
                <button
                    id="mobile-toc-button"
                    class="icon mobile-nav-button"
                    aria-label="Toggle table of contents"
                >
                    󰮫
                </button>
            </div>
        </header>

        <!-- Command Palette -->
        <div
            id="command-palette-overlay"
            class="overlay hidden"
            style="z-index: 2000"
        >
            <div
                id="command-palette"
                role="dialog"
                aria-modal="true"
                aria-label="Command Palette"
            >
                <div style="background: var(--layer-1)">
                    <input
                        id="command-palette-input"
                        type="text"
                        placeholder="Type a command or search for a file..."
                        style="
                            border-bottom: 1px solid var(--layer-2);
                            color: var(--on-layer);
                        "
                        aria-controls="command-palette-results"
                        aria-autocomplete="list"
                    />
                    <ul
                        id="command-palette-results"
                        role="listbox"
                        class="custom-scrollbar"
                    ></ul>
                </div>
            </div>
        </div>
        $PLACEHOLDER-JS
    </body>
</html>
